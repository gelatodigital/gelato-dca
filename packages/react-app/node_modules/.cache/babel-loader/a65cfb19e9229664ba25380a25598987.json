{"ast":null,"code":"var _jsxFileName = \"/Users/Hilmar/code/integrations/krystal/gelato-krystal/packages/react-app/src/pages/User.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { CardWrapper } from \"../components\";\nimport InputCard from \"../components/InputCard\";\nimport ViewCardWrapper from \"../components/ViewCardWrapper\";\nimport ViewCardButton from \"../components/ViewCardButton\";\nimport { getMiniUserAddress, getTokenBalance } from \"../services/stateReads\";\nimport { getFormattedNumber } from \"../utils/helpers\";\nimport { addresses } from \"@gelato-krystal/contracts\";\nconst {\n  DAI,\n  WETH\n} = addresses;\n\nconst User = ({\n  userAccount\n}) => {\n  const [inputs, setInputs] = useState({});\n  const [refresh, setRefresh] = useState(false);\n\n  const inputsUpdates = async () => {\n    const miniUserAddress = await updateUserAddress();\n    const userDaiBalance = await getFormattedNumber(await getTokenBalance(userAccount, DAI));\n    const userUsdcBalance = await getFormattedNumber(await getTokenBalance(userAccount, WETH));\n    setInputs({ ...inputs,\n      userAddress: miniUserAddress,\n      userDaiBalance: userDaiBalance,\n      userUsdcBalance: userUsdcBalance\n    });\n  };\n\n  const updateUserAddress = async () => {\n    return await getMiniUserAddress(userAccount);\n  };\n\n  useEffect(() => {\n    inputsUpdates();\n  }, [refresh]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CardWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ViewCardWrapper, {\n    title: \"User Address\",\n    state: inputs.userAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CardWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ViewCardWrapper, {\n    title: \"DAI Balance\",\n    state: inputs.userDaiBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ViewCardWrapper, {\n    title: \"WETH Balance\",\n    state: inputs.userUsdcBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default User;","map":{"version":3,"sources":["/Users/Hilmar/code/integrations/krystal/gelato-krystal/packages/react-app/src/pages/User.js"],"names":["React","useState","useEffect","CardWrapper","InputCard","ViewCardWrapper","ViewCardButton","getMiniUserAddress","getTokenBalance","getFormattedNumber","addresses","DAI","WETH","User","userAccount","inputs","setInputs","refresh","setRefresh","inputsUpdates","miniUserAddress","updateUserAddress","userDaiBalance","userUsdcBalance","userAddress"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAASC,kBAAT,EAA6BC,eAA7B,QAAoD,wBAApD;AACA,SAASC,kBAAT,QAAmC,kBAAnC;AACA,SAASC,SAAT,QAA0B,2BAA1B;AAEA,MAAM;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,IAAgBF,SAAtB;;AAEA,MAAMG,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAqB;AAChC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMkB,aAAa,GAAG,YAAY;AAChC,UAAMC,eAAe,GAAG,MAAMC,iBAAiB,EAA/C;AACA,UAAMC,cAAc,GAAG,MAAMb,kBAAkB,CAC7C,MAAMD,eAAe,CAACM,WAAD,EAAcH,GAAd,CADwB,CAA/C;AAGA,UAAMY,eAAe,GAAG,MAAMd,kBAAkB,CAC9C,MAAMD,eAAe,CAACM,WAAD,EAAcF,IAAd,CADyB,CAAhD;AAIAI,IAAAA,SAAS,CAAC,EACR,GAAGD,MADK;AAERS,MAAAA,WAAW,EAAEJ,eAFL;AAGRE,MAAAA,cAAc,EAAEA,cAHR;AAIRC,MAAAA,eAAe,EAAEA;AAJT,KAAD,CAAT;AAMD,GAfD;;AAiBA,QAAMF,iBAAiB,GAAG,YAAY;AACpC,WAAO,MAAMd,kBAAkB,CAACO,WAAD,CAA/B;AACD,GAFD;;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,aAAa;AACd,GAFQ,EAEN,CAACF,OAAD,CAFM,CAAT;AAIA,sBACE,uDACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAC,cADR;AAEE,IAAA,KAAK,EAAEF,MAAM,CAACS,WAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAOE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAC,aADR;AAEE,IAAA,KAAK,EAAET,MAAM,CAACO,cAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAC,cADR;AAEE,IAAA,KAAK,EAAEP,MAAM,CAACQ,eAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAPF,CADF;AAoBD,CAjDD;;AAmDA,eAAeV,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { CardWrapper } from \"../components\";\nimport InputCard from \"../components/InputCard\";\nimport ViewCardWrapper from \"../components/ViewCardWrapper\";\nimport ViewCardButton from \"../components/ViewCardButton\";\nimport { getMiniUserAddress, getTokenBalance } from \"../services/stateReads\";\nimport { getFormattedNumber } from \"../utils/helpers\";\nimport { addresses } from \"@gelato-krystal/contracts\";\n\nconst { DAI, WETH } = addresses;\n\nconst User = ({ userAccount }) => {\n  const [inputs, setInputs] = useState({});\n  const [refresh, setRefresh] = useState(false);\n\n  const inputsUpdates = async () => {\n    const miniUserAddress = await updateUserAddress();\n    const userDaiBalance = await getFormattedNumber(\n      await getTokenBalance(userAccount, DAI)\n    );\n    const userUsdcBalance = await getFormattedNumber(\n      await getTokenBalance(userAccount, WETH)\n    );\n\n    setInputs({\n      ...inputs,\n      userAddress: miniUserAddress,\n      userDaiBalance: userDaiBalance,\n      userUsdcBalance: userUsdcBalance,\n    });\n  };\n\n  const updateUserAddress = async () => {\n    return await getMiniUserAddress(userAccount);\n  };\n\n  useEffect(() => {\n    inputsUpdates();\n  }, [refresh]);\n\n  return (\n    <>\n      <CardWrapper>\n        <ViewCardWrapper\n          title=\"User Address\"\n          state={inputs.userAddress}\n        ></ViewCardWrapper>\n      </CardWrapper>\n      <CardWrapper>\n        <ViewCardWrapper\n          title=\"DAI Balance\"\n          state={inputs.userDaiBalance}\n        ></ViewCardWrapper>\n        <ViewCardWrapper\n          title=\"WETH Balance\"\n          state={inputs.userUsdcBalance}\n        ></ViewCardWrapper>\n      </CardWrapper>\n    </>\n  );\n};\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}